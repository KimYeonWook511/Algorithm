# [Gold III] 코코스 - 3178 

[문제 링크](https://www.acmicpc.net/problem/3178) 

### 성능 요약

메모리: 238024 KB, 시간: 580 ms

### 분류

구현, 자료 구조, 문자열, 정렬, 트리, 트라이

### 제출 일자

2025년 9월 9일 16:30:22

### 문제 설명

<p>2K개의 글자로 이루어진 단어 N개가 주어진다.</p>

<p>코코스는 글자 하나를 포함하고 있는 정점으로 이루어진 유향 그래프(Directed graph)를 말한다. 이때, 모든 단어는 그래프 상의 경로가 존재해야 하며, 이 경로에 쓰여 있는 글자를 순서대로 적었을 때 단어와 일치해야 한다. </p>

<p>또한, 경로 상의 모든 정점은 아래와 같은 네 가지 조건을 만족해야 한다.</p>

<ul>
	<li>첫 정점의 in-degree는 0이다.</li>
	<li>다음 K-1개 정점의 in-degree는 1이다.</li>
	<li>다음 K-1개 정점의 out-degree는 1이다.</li>
	<li>마지막 정점의 out-degree는 0이다.</li>
</ul>

<p>위의 조건은 경로는 첫 K개 글자에서 나누어질 수 있고, 마지막 K개 글자에서 만날 수 있음을 의미한다.</p>

<p>단어 N개가 주어진다. 이때, 정점의 수가 가장 적은 코코스를 구하는 프로그램을 작성하시오.</p>

<p>아래 그림은 예제를 정점의 수가 가장 적은 코코스로 나타낸 것이다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/d469ef5d-c153-443e-ac87-ad603d1cc7a1/-/preview/" style="width: 461px; height: 180px;"></p>

<p>아래 그래프는 위의 그래프보다 정점의 수가 적지만, 코코스가 아니다.</p>

<p style="text-align: center;"><img alt="" src="https://upload.acmicpc.net/d03bf143-437e-4317-bb97-a883bdfe5ccb/-/preview/" style="width: 461px; height: 179px;"></p>

<p>위의 그래프가 코코스가 아닌 이유는 4번째 글자 D에서 경로가 만나고, 6번째 글자 E에서 경로가 갈라져 문제의 조건을 만족하지 않기 때문이다.</p>

### 입력 

 <p>첫째 줄에 N과 K가 주어진다. (1 ≤ N ≤ 10,000, 1 ≤ K ≤ 100)</p>

<p>다음 N개 줄에는 알파벳 대문자로만 이루어진 단어가 주어진다.</p>

### 출력 

 <p>첫째 줄에 정점의 수가 가장 적은 코코스의 정점의 수를 출력한다.</p>

